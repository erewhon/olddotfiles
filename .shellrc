# -*- Mode: shell-script -*-
#
# Common shell aliases and functions.   These should work under both zsh and bash.
#
alias ..='cd ..'
alias ...='cd ../..'
alias ,=popd
alias c=cd
alias d=dirs
alias j=jobs
alias p=pushd
alias s=ssh
alias e='emacsclient --no-wait --create-frame'
alias gdh='git diff HEAD'
alias mc='mc -x'
alias mux=tmuxinator

if command -v rlwrap &> /dev/null; then
    alias rl='rlwrap'
    alias nc='rlwrap nc'
fi

alias gupv='git pull --rebase --autostash -v'
alias gw='git worktree'

# gwb='git worktree add -b foo ../foo origin/master'

function gack() { 
  ack -g $* 
}

function eack() { 
  emacsclient -n $( ack -g $* ) 
}

# http://stackoverflow.com/questions/714421/what-is-an-easy-way-to-do-a-sorted-diff-between-two-files
function diffs() {
        diff "${@:3}" <(sort "$1") <(sort "$2")
}

function sumcount() {
    sort | uniq -c | sort -n
}

function batdiff() {
    git diff --name-only --diff-filter=d | xargs bat --diff
}

#.# Better Git Logs.
### Using EMOJI-LOG (https://github.com/ahmadawais/Emoji-Log).

# Git Commit, Add all and Push — in one step.
function gcap() {
    git add . && git commit -m "$*" && git push
}

# NEW.
function gnew() {
    gcap "📦 NEW: $@"
}

# IMPROVE.
function gimp() {
    gcap "👌 IMPROVE: $@"
}

# FIX.
function gfix() {
    gcap "🐛 FIX: $@"
}

# RELEASE.
function grlz() {
    gcap "🚀 RELEASE: $@"
}

# DOC.
function gdoc() {
    gcap "📖 DOC: $@"
}

# TEST.
function gtst() {
    gcap "✅ TEST: $@"
}


quote() {
    # 0. Show date
    # 1. pick a quote source (fortune, zippy?)
    # 2. pipe it to a viewer (parrotsay, cowsay, pokemonsay, lolcat)
    fortune | parrotsay
}


if command -v cowsay &> /dev/null
then
    gnusay() {
        cowsay -f gnu "$@"
    }

    whocall() {
        cowsay -f ghostbusters Who you Gonna Call | lolcat
    }
fi


starwars() {
    nc towel.blinkenlights.nl 23
}


if command -v asciiquarium 1>/dev/null 2>&1; then
    alias aq=asciiquarium
fi

growl() { echo -e $'\e]9;'${1}'\007' ; return  ; }

